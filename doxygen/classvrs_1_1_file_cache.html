<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VRS: vrs::FileCache Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="VRS-Icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">VRS
   </div>
   <div id="projectbrief">A file format for sensor data.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacevrs.html">vrs</a></li><li class="navelem"><a class="el" href="classvrs_1_1_file_cache.html">FileCache</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classvrs_1_1_file_cache-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">vrs::FileCache Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Utility class to manage various forms of file caching. Disabled by default.  
 <a href="classvrs_1_1_file_cache.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_file_cache_8h_source.html">FileCache.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a493f56c5d7e6c8bafe85334f584cbba1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_cache.html#a493f56c5d7e6c8bafe85334f584cbba1">getFile</a> (const string &amp;filename, string &amp;outFilePath)</td></tr>
<tr class="separator:a493f56c5d7e6c8bafe85334f584cbba1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9b1e60f4a58fffd278c25ead6027cc9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_cache.html#ae9b1e60f4a58fffd278c25ead6027cc9">getFile</a> (const string &amp;domain, const string &amp;filename, string &amp;outFilePath)</td></tr>
<tr class="separator:ae9b1e60f4a58fffd278c25ead6027cc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ada9643b298fe348672b1133cf7513ca0"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_cache.html#ada9643b298fe348672b1133cf7513ca0">makeFileCache</a> (const string &amp;app, const string &amp;parentFolder={})</td></tr>
<tr class="separator:ada9643b298fe348672b1133cf7513ca0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fd3bb879d9a325e53ba07d680eb9476"><td class="memItemLeft" align="right" valign="top"><a id="a1fd3bb879d9a325e53ba07d680eb9476"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_cache.html#a1fd3bb879d9a325e53ba07d680eb9476">disableFileCache</a> ()</td></tr>
<tr class="memdesc:a1fd3bb879d9a325e53ba07d680eb9476"><td class="mdescLeft">&#160;</td><td class="mdescRight">To disable the file cache. Safe to call even if not enabled. <br /></td></tr>
<tr class="separator:a1fd3bb879d9a325e53ba07d680eb9476"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaba894b220f1af6718af3bc1784727b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classvrs_1_1_file_cache.html">FileCache</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_cache.html#aaaba894b220f1af6718af3bc1784727b">getFileCache</a> ()</td></tr>
<tr class="separator:aaaba894b220f1af6718af3bc1784727b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aecc110fe8de378a3ea1886978de02197"><td class="memItemLeft" align="right" valign="top"><a id="aecc110fe8de378a3ea1886978de02197"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>FileCache</b> (const string &amp;mainFolder)</td></tr>
<tr class="separator:aecc110fe8de378a3ea1886978de02197"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Utility class to manage various forms of file caching. Disabled by default. </p>
<p>There is a main file cache, which needs to be created for file caching to be enabled. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ae9b1e60f4a58fffd278c25ead6027cc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9b1e60f4a58fffd278c25ead6027cc9">&#9670;&nbsp;</a></span>getFile() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int vrs::FileCache::getFile </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>domain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>outFilePath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Look-up a file in the cache, specifying a domain. Useful, if you want to cache a bunch of derived objects from a particular object, placing all those cached objects in a folder named after the main object. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">domain</td><td>the primary domain. Might be an identifier for a specific VRS file... </td></tr>
    <tr><td class="paramname">filename</td><td>a filename for the object. </td></tr>
    <tr><td class="paramname">outFilePath</td><td>a path to the object in the cache. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if the file exists, and outFilePath has been set. Returns FILE_NOT_FOUND if the file doesn't exist, and outFilePath has been set, for you to add the object in the cache at that location. Returns another error code and outFilePath isn't set, if some error occurred, and the object doesn't exist and can't be created, maybe because some files or folders are in the way. </dd></dl>

</div>
</div>
<a id="a493f56c5d7e6c8bafe85334f584cbba1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a493f56c5d7e6c8bafe85334f584cbba1">&#9670;&nbsp;</a></span>getFile() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int vrs::FileCache::getFile </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>outFilePath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Look-up a file in the cache. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>a filename for the object. </td></tr>
    <tr><td class="paramname">outFilePath</td><td>a path to the object in the cache. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if the file exists, and outFilePath has bee set. Returns FILE_NOT_FOUND if the file doesn't exist, and outFilePath has been set, for you to add the object in the cache at that location. Returns another error code and outFilePath isn't set, if some error occurred, and the object doesn't exist and can't be created, maybe because some files or folders are in the way. </dd></dl>

</div>
</div>
<a id="aaaba894b220f1af6718af3bc1784727b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaaba894b220f1af6718af3bc1784727b">&#9670;&nbsp;</a></span>getFileCache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classvrs_1_1_file_cache.html">FileCache</a> * vrs::FileCache::getFileCache </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get file cache, if one has been created. </p><dl class="section return"><dt>Returns</dt><dd>The existing file cache, or nullptr if none was created. </dd></dl>

</div>
</div>
<a id="ada9643b298fe348672b1133cf7513ca0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada9643b298fe348672b1133cf7513ca0">&#9670;&nbsp;</a></span>makeFileCache()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int vrs::FileCache::makeFileCache </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>app</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>parentFolder</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Make the file cache. You need to create it to enable caching features. Note that there is only one of these file cache in any running app, but there could be multiple ones in the file system. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">app</td><td>name for the app, to have its own space, maybe shared with other apps of the same team. VRS apps like VRStool &amp; VRSplayer will use kDefaultVrsAppsCache. </td></tr>
    <tr><td class="paramname">parentFolder</td><td>an optional cache folder location. If empty, the cache will be created in the home folder. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A status code, 0 meaning success. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>vrs/<a class="el" href="_file_cache_8h_source.html">FileCache.h</a></li>
<li>vrs/FileCache.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
