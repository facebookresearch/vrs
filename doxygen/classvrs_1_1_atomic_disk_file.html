<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VRS: vrs::AtomicDiskFile Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="VRS-Icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">VRS
   </div>
   <div id="projectbrief">A file format for sensor data.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacevrs.html">vrs</a></li><li class="navelem"><a class="el" href="classvrs_1_1_atomic_disk_file.html">AtomicDiskFile</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classvrs_1_1_atomic_disk_file-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">vrs::AtomicDiskFile Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_disk_file_8h_source.html">DiskFile.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for vrs::AtomicDiskFile:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classvrs_1_1_atomic_disk_file.png" usemap="#vrs::AtomicDiskFile_map" alt=""/>
  <map id="vrs::AtomicDiskFile_map" name="vrs::AtomicDiskFile_map">
<area href="classvrs_1_1_disk_file_t.html" title="FileHandler implementation for disk files, with chunked file support." alt="vrs::DiskFileT&lt; FileChunk &gt;" shape="rect" coords="0,168,193,192"/>
<area href="classvrs_1_1_write_file_handler.html" title="The WriteFileHandler interface adds write operations to the FileHandler interface." alt="vrs::WriteFileHandler" shape="rect" coords="0,112,193,136"/>
<area href="classvrs_1_1_file_handler.html" title="Class to abstract VRS file system operations, to enable support for alternate storage methods,..." alt="vrs::FileHandler" shape="rect" coords="0,56,193,80"/>
<area href="classvrs_1_1_file_delegator.html" title="Class to abstract the delegate file open operation for VRS file." alt="vrs::FileDelegator" shape="rect" coords="0,0,193,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aaa5c0b64056378956b2247e7829de713"><td class="memItemLeft" align="right" valign="top"><a id="aaa5c0b64056378956b2247e7829de713"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_atomic_disk_file.html#aaa5c0b64056378956b2247e7829de713">create</a> (const string &amp;newFilePath, const map&lt; string, string &gt; &amp;options={}) override</td></tr>
<tr class="memdesc:aaa5c0b64056378956b2247e7829de713"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new file. <br /></td></tr>
<tr class="separator:aaa5c0b64056378956b2247e7829de713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d9a0ead2a2bef7b8e6865aa6c8794a9"><td class="memItemLeft" align="right" valign="top"><a id="a0d9a0ead2a2bef7b8e6865aa6c8794a9"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_atomic_disk_file.html#a0d9a0ead2a2bef7b8e6865aa6c8794a9">close</a> () override</td></tr>
<tr class="memdesc:a0d9a0ead2a2bef7b8e6865aa6c8794a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the file. <br /></td></tr>
<tr class="separator:a0d9a0ead2a2bef7b8e6865aa6c8794a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cb68822861d534f766ef6cad8c3e388"><td class="memItemLeft" align="right" valign="top"><a id="a6cb68822861d534f766ef6cad8c3e388"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>abort</b> ()</td></tr>
<tr class="separator:a6cb68822861d534f766ef6cad8c3e388"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classvrs_1_1_disk_file_t"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classvrs_1_1_disk_file_t')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classvrs_1_1_disk_file_t.html">vrs::DiskFileT&lt; FileChunk &gt;</a></td></tr>
<tr class="memitem:a72a7d7606866e169ac1f2de182f87e01 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="a72a7d7606866e169ac1f2de182f87e01"></a>
std::unique_ptr&lt; <a class="el" href="classvrs_1_1_file_handler.html">FileHandler</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#a72a7d7606866e169ac1f2de182f87e01">makeNew</a> () const override</td></tr>
<tr class="memdesc:a72a7d7606866e169ac1f2de182f87e01 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make a new DiskFile object, with a default state. <br /></td></tr>
<tr class="separator:a72a7d7606866e169ac1f2de182f87e01 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0382fde5f8bfe25e276a9a1acd75621e inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="a0382fde5f8bfe25e276a9a1acd75621e"></a>
const string &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>getFileHandlerName</b> () const override</td></tr>
<tr class="separator:a0382fde5f8bfe25e276a9a1acd75621e inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67d91cd298016f7af4d39bb6f9ef14a1 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="a67d91cd298016f7af4d39bb6f9ef14a1"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#a67d91cd298016f7af4d39bb6f9ef14a1">openSpec</a> (const <a class="el" href="structvrs_1_1_file_spec.html">FileSpec</a> &amp;fileSpec) override</td></tr>
<tr class="memdesc:a67d91cd298016f7af4d39bb6f9ef14a1 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a file in read-only mode. <br /></td></tr>
<tr class="separator:a67d91cd298016f7af4d39bb6f9ef14a1 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d2b271cd3b4e4b8b715f1435e174473 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="a8d2b271cd3b4e4b8b715f1435e174473"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#a8d2b271cd3b4e4b8b715f1435e174473">isOpened</a> () const override</td></tr>
<tr class="memdesc:a8d2b271cd3b4e4b8b715f1435e174473 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell if a file is actually open. <br /></td></tr>
<tr class="separator:a8d2b271cd3b4e4b8b715f1435e174473 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0867314df22885d3ef82ea25b3c3571 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="af0867314df22885d3ef82ea25b3c3571"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#af0867314df22885d3ef82ea25b3c3571">forgetFurtherChunks</a> (int64_t fileSize) override</td></tr>
<tr class="memdesc:af0867314df22885d3ef82ea25b3c3571 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call this method to forget any chunk beyond this file size. <br /></td></tr>
<tr class="separator:af0867314df22885d3ef82ea25b3c3571 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c15fe9b8607de09125d9dbeb368a607 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="a6c15fe9b8607de09125d9dbeb368a607"></a>
int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#a6c15fe9b8607de09125d9dbeb368a607">getTotalSize</a> () const override</td></tr>
<tr class="memdesc:a6c15fe9b8607de09125d9dbeb368a607 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the total size of all the chunks considered. <br /></td></tr>
<tr class="separator:a6c15fe9b8607de09125d9dbeb368a607 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeafe76f680270ecfa38dcd4b8869009d inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="aeafe76f680270ecfa38dcd4b8869009d"></a>
vector&lt; std::pair&lt; string, int64_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#aeafe76f680270ecfa38dcd4b8869009d">getFileChunks</a> () const override</td></tr>
<tr class="memdesc:aeafe76f680270ecfa38dcd4b8869009d inherit pub_methods_classvrs_1_1_disk_file_t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the list of chunks, path + size. <br /></td></tr>
<tr class="separator:aeafe76f680270ecfa38dcd4b8869009d inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad52fbf650b868e0d2db8ac865c470c95 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="ad52fbf650b868e0d2db8ac865c470c95"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#ad52fbf650b868e0d2db8ac865c470c95">skipForward</a> (int64_t offset) override</td></tr>
<tr class="memdesc:ad52fbf650b868e0d2db8ac865c470c95 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Skip a number of bytes further in the file, in a chunk aware way. <br /></td></tr>
<tr class="separator:ad52fbf650b868e0d2db8ac865c470c95 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd2ce3f9b4711cc263a4ea5d23bcd4fc inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="acd2ce3f9b4711cc263a4ea5d23bcd4fc"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#acd2ce3f9b4711cc263a4ea5d23bcd4fc">setPos</a> (int64_t offset) override</td></tr>
<tr class="memdesc:acd2ce3f9b4711cc263a4ea5d23bcd4fc inherit pub_methods_classvrs_1_1_disk_file_t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the file position at an arbitrary position, in a chunk aware way. <br /></td></tr>
<tr class="separator:acd2ce3f9b4711cc263a4ea5d23bcd4fc inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac48d2da9f56e2fe3653a8cea28c3fde1 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="ac48d2da9f56e2fe3653a8cea28c3fde1"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#ac48d2da9f56e2fe3653a8cea28c3fde1">read</a> (void *buffer, size_t length) override</td></tr>
<tr class="memdesc:ac48d2da9f56e2fe3653a8cea28c3fde1 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a number of bytes, in a chunk aware way. <br /></td></tr>
<tr class="separator:ac48d2da9f56e2fe3653a8cea28c3fde1 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a89b13bd2b88fa088653cedf62fb2d5 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memTemplParams" colspan="2"><a id="a0a89b13bd2b88fa088653cedf62fb2d5"></a>
template&lt;typename T , std::enable_if_t&lt; std::is_trivially_copyable&lt; T &gt;::value, int &gt;  = 0&gt; </td></tr>
<tr class="memitem:a0a89b13bd2b88fa088653cedf62fb2d5 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#a0a89b13bd2b88fa088653cedf62fb2d5">read</a> (T &amp;object)</td></tr>
<tr class="memdesc:a0a89b13bd2b88fa088653cedf62fb2d5 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper to read trivially copyable objects, in a chunk aware way. <br /></td></tr>
<tr class="separator:a0a89b13bd2b88fa088653cedf62fb2d5 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad155db5d5d3fe5285ddcb2aee5b6328d inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="ad155db5d5d3fe5285ddcb2aee5b6328d"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#ad155db5d5d3fe5285ddcb2aee5b6328d">getLastRWSize</a> () const override</td></tr>
<tr class="memdesc:ad155db5d5d3fe5285ddcb2aee5b6328d inherit pub_methods_classvrs_1_1_disk_file_t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the number of bytes actually moved by the last read or write operation. <br /></td></tr>
<tr class="separator:ad155db5d5d3fe5285ddcb2aee5b6328d inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7b075e8c3b836915d1cac5f79594522 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="aa7b075e8c3b836915d1cac5f79594522"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#aa7b075e8c3b836915d1cac5f79594522">reopenForUpdatesSupported</a> () const override</td></tr>
<tr class="memdesc:aa7b075e8c3b836915d1cac5f79594522 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell if modifying files is supported by this <a class="el" href="classvrs_1_1_file_handler.html" title="Class to abstract VRS file system operations, to enable support for alternate storage methods,...">FileHandler</a> implementation. <br /></td></tr>
<tr class="separator:aa7b075e8c3b836915d1cac5f79594522 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95f6f67231f2ee449813db732f68e927 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="a95f6f67231f2ee449813db732f68e927"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#a95f6f67231f2ee449813db732f68e927">reopenForUpdates</a> () override</td></tr>
<tr class="memdesc:a95f6f67231f2ee449813db732f68e927 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch from read-only to read-write mode. <br /></td></tr>
<tr class="separator:a95f6f67231f2ee449813db732f68e927 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6af25461ccaee83e1a7387210563311 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="ae6af25461ccaee83e1a7387210563311"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#ae6af25461ccaee83e1a7387210563311">isReadOnly</a> () const override</td></tr>
<tr class="memdesc:ae6af25461ccaee83e1a7387210563311 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find out if the file is in read-only mode. <br /></td></tr>
<tr class="separator:ae6af25461ccaee83e1a7387210563311 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a658dd362aa98bbe33920af26f3cc39c8 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="a658dd362aa98bbe33920af26f3cc39c8"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#a658dd362aa98bbe33920af26f3cc39c8">write</a> (const void *buffer, size_t length) override</td></tr>
<tr class="memdesc:a658dd362aa98bbe33920af26f3cc39c8 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write to the current chunk, possibly expanding it. <br /></td></tr>
<tr class="separator:a658dd362aa98bbe33920af26f3cc39c8 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac36e6f8fa707c7b15cf28a08a780c37a inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memTemplParams" colspan="2"><a id="ac36e6f8fa707c7b15cf28a08a780c37a"></a>
template&lt;typename T , std::enable_if_t&lt; std::is_trivially_copyable&lt; T &gt;::value, int &gt;  = 0&gt; </td></tr>
<tr class="memitem:ac36e6f8fa707c7b15cf28a08a780c37a inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#ac36e6f8fa707c7b15cf28a08a780c37a">write</a> (const T &amp;object)</td></tr>
<tr class="memdesc:ac36e6f8fa707c7b15cf28a08a780c37a inherit pub_methods_classvrs_1_1_disk_file_t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper for trivially copyable objects. <br /></td></tr>
<tr class="separator:ac36e6f8fa707c7b15cf28a08a780c37a inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace8dc62447a9b273bdd17cdcb84d7078 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#ace8dc62447a9b273bdd17cdcb84d7078">overwrite</a> (const void *buffer, size_t length) override</td></tr>
<tr class="separator:ace8dc62447a9b273bdd17cdcb84d7078 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6784358cd8ca8e18cc9e1f03732e1550 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memTemplParams" colspan="2"><a id="a6784358cd8ca8e18cc9e1f03732e1550"></a>
template&lt;typename T , std::enable_if_t&lt; std::is_trivially_copyable&lt; T &gt;::value, int &gt;  = 0&gt; </td></tr>
<tr class="memitem:a6784358cd8ca8e18cc9e1f03732e1550 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#a6784358cd8ca8e18cc9e1f03732e1550">overwrite</a> (const T &amp;object)</td></tr>
<tr class="memdesc:a6784358cd8ca8e18cc9e1f03732e1550 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper for trivially copyable objects. <br /></td></tr>
<tr class="separator:a6784358cd8ca8e18cc9e1f03732e1550 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abac5192bf096be66db2973f7c86fbec0 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="abac5192bf096be66db2973f7c86fbec0"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#abac5192bf096be66db2973f7c86fbec0">addChunk</a> () override</td></tr>
<tr class="memdesc:abac5192bf096be66db2973f7c86fbec0 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Append a new chunk to the current file. <br /></td></tr>
<tr class="separator:abac5192bf096be66db2973f7c86fbec0 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a913a5a3dc08e6b92b767d0f935d155e5 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="a913a5a3dc08e6b92b767d0f935d155e5"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#a913a5a3dc08e6b92b767d0f935d155e5">truncate</a> () override</td></tr>
<tr class="memdesc:a913a5a3dc08e6b92b767d0f935d155e5 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Truncate chunk to the current file position. Use with care. <br /></td></tr>
<tr class="separator:a913a5a3dc08e6b92b767d0f935d155e5 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c5ae58cc8b2da70e397ae52edaa4ffb inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="a6c5ae58cc8b2da70e397ae52edaa4ffb"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#a6c5ae58cc8b2da70e397ae52edaa4ffb">getLastError</a> () const override</td></tr>
<tr class="memdesc:a6c5ae58cc8b2da70e397ae52edaa4ffb inherit pub_methods_classvrs_1_1_disk_file_t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the last error code. 0 means no error. <br /></td></tr>
<tr class="separator:a6c5ae58cc8b2da70e397ae52edaa4ffb inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b59cde880a5f5c9c90766a36c43db79 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="a5b59cde880a5f5c9c90766a36c43db79"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#a5b59cde880a5f5c9c90766a36c43db79">isEof</a> () const override</td></tr>
<tr class="memdesc:a5b59cde880a5f5c9c90766a36c43db79 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell if we are at the end of the last chunk. <br /></td></tr>
<tr class="separator:a5b59cde880a5f5c9c90766a36c43db79 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0d09bf1522a31e4bde4a3c7d8dc2af6 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="ad0d09bf1522a31e4bde4a3c7d8dc2af6"></a>
int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#ad0d09bf1522a31e4bde4a3c7d8dc2af6">getPos</a> () const override</td></tr>
<tr class="memdesc:ad0d09bf1522a31e4bde4a3c7d8dc2af6 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the absolute position in the file, in a chunk aware way. <br /></td></tr>
<tr class="separator:ad0d09bf1522a31e4bde4a3c7d8dc2af6 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a346c1ec887d83e7e29685e7fa7fe13 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="a8a346c1ec887d83e7e29685e7fa7fe13"></a>
int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#a8a346c1ec887d83e7e29685e7fa7fe13">getChunkPos</a> () const override</td></tr>
<tr class="memdesc:a8a346c1ec887d83e7e29685e7fa7fe13 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get position in the current chunk. <br /></td></tr>
<tr class="separator:a8a346c1ec887d83e7e29685e7fa7fe13 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdf2ff75c33f4a7f4637a25ebafb4a49 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="afdf2ff75c33f4a7f4637a25ebafb4a49"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#afdf2ff75c33f4a7f4637a25ebafb4a49">getChunkRange</a> (int64_t &amp;outChunkOffset, int64_t &amp;outChunkSize) const override</td></tr>
<tr class="memdesc:afdf2ff75c33f4a7f4637a25ebafb4a49 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get range of the current chunk. <br /></td></tr>
<tr class="separator:afdf2ff75c33f4a7f4637a25ebafb4a49 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca569f60f72d94509833779c146a84c7 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="aca569f60f72d94509833779c146a84c7"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#aca569f60f72d94509833779c146a84c7">getCurrentChunk</a> (string &amp;outChunkPath, size_t &amp;outChunkIndex) const override</td></tr>
<tr class="memdesc:aca569f60f72d94509833779c146a84c7 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the path of the current chunk, or an empty string if no chunk is open. <br /></td></tr>
<tr class="separator:aca569f60f72d94509833779c146a84c7 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad54a270e44916ec092120a3e48e8b026 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#ad54a270e44916ec092120a3e48e8b026">isRemoteFileSystem</a> () const override</td></tr>
<tr class="separator:ad54a270e44916ec092120a3e48e8b026 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4676616a808e4ac0be8f1f9833f1811 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memTemplParams" colspan="2"><a id="ae4676616a808e4ac0be8f1f9833f1811"></a>
template&lt;typename T , std::enable_if_t&lt; std::is_trivially_copyable&lt; T &gt;::value, int &gt;  = 0&gt; </td></tr>
<tr class="memitem:ae4676616a808e4ac0be8f1f9833f1811 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><b>writeZstdFile</b> (const string &amp;path, const T &amp;object)</td></tr>
<tr class="separator:ae4676616a808e4ac0be8f1f9833f1811 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a809eb5969befd3e9aa2c9119723a7dbc inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memTemplParams" colspan="2"><a id="a809eb5969befd3e9aa2c9119723a7dbc"></a>
template&lt;typename T , std::enable_if_t&lt; std::is_trivially_copyable&lt; T &gt;::value, int &gt;  = 0&gt; </td></tr>
<tr class="memitem:a809eb5969befd3e9aa2c9119723a7dbc inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><b>writeZstdFile</b> (const string &amp;path, const vector&lt; T &gt; &amp;v)</td></tr>
<tr class="separator:a809eb5969befd3e9aa2c9119723a7dbc inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bd12a2114ed27738a26b97c046910cd inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memTemplParams" colspan="2"><a id="a1bd12a2114ed27738a26b97c046910cd"></a>
template&lt;typename T , std::enable_if_t&lt; std::is_trivially_copyable&lt; T &gt;::value, int &gt;  = 0&gt; </td></tr>
<tr class="memitem:a1bd12a2114ed27738a26b97c046910cd inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><b>readZstdFile</b> (const string &amp;path, T &amp;object)</td></tr>
<tr class="separator:a1bd12a2114ed27738a26b97c046910cd inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7cb24ca22935de77f29e1b4331965a3 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="aa7cb24ca22935de77f29e1b4331965a3"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>parseUri</b> (<a class="el" href="structvrs_1_1_file_spec.html">FileSpec</a> &amp;inOutFileSpec, size_t colonIndex) const override</td></tr>
<tr class="separator:aa7cb24ca22935de77f29e1b4331965a3 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37690bcc7a4ee200c095ccf8fa7134d0 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="a37690bcc7a4ee200c095ccf8fa7134d0"></a>
const string &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>staticName</b> ()</td></tr>
<tr class="separator:a37690bcc7a4ee200c095ccf8fa7134d0 inherit pub_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classvrs_1_1_write_file_handler"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classvrs_1_1_write_file_handler')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classvrs_1_1_write_file_handler.html">vrs::WriteFileHandler</a></td></tr>
<tr class="memitem:af5271bfd7ee63339b86b4e94ad213a08 inherit pub_methods_classvrs_1_1_write_file_handler"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_write_file_handler.html#af5271bfd7ee63339b86b4e94ad213a08">create</a> (const <a class="el" href="structvrs_1_1_file_spec.html">FileSpec</a> &amp;spec)</td></tr>
<tr class="separator:af5271bfd7ee63339b86b4e94ad213a08 inherit pub_methods_classvrs_1_1_write_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff0f64ed8b7ada9f6e0a2c55d3fd3a59 inherit pub_methods_classvrs_1_1_write_file_handler"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_write_file_handler.html#aff0f64ed8b7ada9f6e0a2c55d3fd3a59">createSplitFile</a> (const <a class="el" href="structvrs_1_1_file_spec.html">FileSpec</a> &amp;spec, const string &amp;initialFilePath)</td></tr>
<tr class="separator:aff0f64ed8b7ada9f6e0a2c55d3fd3a59 inherit pub_methods_classvrs_1_1_write_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10d230d9751bc35e81f369c81d929afb inherit pub_methods_classvrs_1_1_write_file_handler"><td class="memTemplParams" colspan="2"><a id="a10d230d9751bc35e81f369c81d929afb"></a>
template&lt;typename T , std::enable_if_t&lt; std::is_trivially_copyable&lt; T &gt;::value, int &gt;  = 0&gt; </td></tr>
<tr class="memitem:a10d230d9751bc35e81f369c81d929afb inherit pub_methods_classvrs_1_1_write_file_handler"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classvrs_1_1_write_file_handler.html#a10d230d9751bc35e81f369c81d929afb">write</a> (const T &amp;object)</td></tr>
<tr class="memdesc:a10d230d9751bc35e81f369c81d929afb inherit pub_methods_classvrs_1_1_write_file_handler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper for trivially copyable objects. <br /></td></tr>
<tr class="separator:a10d230d9751bc35e81f369c81d929afb inherit pub_methods_classvrs_1_1_write_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56b2f1f27816b1444136364990bc5266 inherit pub_methods_classvrs_1_1_write_file_handler"><td class="memTemplParams" colspan="2"><a id="a56b2f1f27816b1444136364990bc5266"></a>
template&lt;typename T , std::enable_if_t&lt; std::is_trivially_copyable&lt; T &gt;::value, int &gt;  = 0&gt; </td></tr>
<tr class="memitem:a56b2f1f27816b1444136364990bc5266 inherit pub_methods_classvrs_1_1_write_file_handler"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classvrs_1_1_write_file_handler.html#a56b2f1f27816b1444136364990bc5266">overwrite</a> (const T &amp;object)</td></tr>
<tr class="memdesc:a56b2f1f27816b1444136364990bc5266 inherit pub_methods_classvrs_1_1_write_file_handler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper for trivially copyable objects. <br /></td></tr>
<tr class="separator:a56b2f1f27816b1444136364990bc5266 inherit pub_methods_classvrs_1_1_write_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classvrs_1_1_file_handler"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classvrs_1_1_file_handler')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classvrs_1_1_file_handler.html">vrs::FileHandler</a></td></tr>
<tr class="memitem:acc8cce8cea6320affac819d063705d9b inherit pub_methods_classvrs_1_1_file_handler"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#acc8cce8cea6320affac819d063705d9b">open</a> (const string &amp;filePath)</td></tr>
<tr class="separator:acc8cce8cea6320affac819d063705d9b inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29c9ecdcaec465eded60d96890b23670 inherit pub_methods_classvrs_1_1_file_handler"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#a29c9ecdcaec465eded60d96890b23670">delegateOpen</a> (const <a class="el" href="structvrs_1_1_file_spec.html">FileSpec</a> &amp;fileSpec, unique_ptr&lt; <a class="el" href="classvrs_1_1_file_handler.html">FileHandler</a> &gt; &amp;outNewDelegate) override</td></tr>
<tr class="separator:a29c9ecdcaec465eded60d96890b23670 inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a084abde45300ff923db012709e3c9df6 inherit pub_methods_classvrs_1_1_file_handler"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#a084abde45300ff923db012709e3c9df6">isAvailableOrPrefetch</a> (MAYBE_UNUSED size_t length)</td></tr>
<tr class="separator:a084abde45300ff923db012709e3c9df6 inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a862ed4edd6b651c810c71593e4d2f6c1 inherit pub_methods_classvrs_1_1_file_handler"><td class="memTemplParams" colspan="2"><a id="a862ed4edd6b651c810c71593e4d2f6c1"></a>
template&lt;typename T , std::enable_if_t&lt; std::is_trivially_copyable&lt; T &gt;::value, int &gt;  = 0&gt; </td></tr>
<tr class="memitem:a862ed4edd6b651c810c71593e4d2f6c1 inherit pub_methods_classvrs_1_1_file_handler"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#a862ed4edd6b651c810c71593e4d2f6c1">read</a> (T &amp;object)</td></tr>
<tr class="memdesc:a862ed4edd6b651c810c71593e4d2f6c1 inherit pub_methods_classvrs_1_1_file_handler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper to read trivially copyable objects, in a chunk aware way. <br /></td></tr>
<tr class="separator:a862ed4edd6b651c810c71593e4d2f6c1 inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8ad8cb958456d4ff23b7103dcc100af inherit pub_methods_classvrs_1_1_file_handler"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#ae8ad8cb958456d4ff23b7103dcc100af">setCachingStrategy</a> (<a class="el" href="namespacevrs.html#acb1b4358038394407db2b2dc6200afae">CachingStrategy</a>)</td></tr>
<tr class="separator:ae8ad8cb958456d4ff23b7103dcc100af inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9df905d36e9a89b467e542a8ae8d6fb4 inherit pub_methods_classvrs_1_1_file_handler"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacevrs.html#acb1b4358038394407db2b2dc6200afae">CachingStrategy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#a9df905d36e9a89b467e542a8ae8d6fb4">getCachingStrategy</a> () const</td></tr>
<tr class="separator:a9df905d36e9a89b467e542a8ae8d6fb4 inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acde57d88f70a2542cf8139a72f801452 inherit pub_methods_classvrs_1_1_file_handler"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#acde57d88f70a2542cf8139a72f801452">prefetchReadSequence</a> (MAYBE_UNUSED const vector&lt; std::pair&lt; size_t, size_t &gt;&gt; &amp;sequence, MAYBE_UNUSED bool clearSequence=true)</td></tr>
<tr class="separator:acde57d88f70a2542cf8139a72f801452 inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab581e6ffbabd7d4da0e991ac60ed4032 inherit pub_methods_classvrs_1_1_file_handler"><td class="memItemLeft" align="right" valign="top"><a id="ab581e6ffbabd7d4da0e991ac60ed4032"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>setStatsCallback</b> (const CacheStatsCallbackFunction &amp;)</td></tr>
<tr class="separator:ab581e6ffbabd7d4da0e991ac60ed4032 inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad49c80e3f6764c5f5627c61e8d00a3a3 inherit pub_methods_classvrs_1_1_file_handler"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#ad49c80e3f6764c5f5627c61e8d00a3a3">purgeCache</a> ()</td></tr>
<tr class="separator:ad49c80e3f6764c5f5627c61e8d00a3a3 inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d1a9e18368a77be359b1d23360c8ced inherit pub_methods_classvrs_1_1_file_handler"><td class="memItemLeft" align="right" valign="top"><a id="a8d1a9e18368a77be359b1d23360c8ced"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isFileHandlerMatch</b> (const <a class="el" href="structvrs_1_1_file_spec.html">FileSpec</a> &amp;fileSpec) const</td></tr>
<tr class="separator:a8d1a9e18368a77be359b1d23360c8ced inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9648c85d534485a206c519b931723ffd inherit pub_methods_classvrs_1_1_file_handler"><td class="memItemLeft" align="right" valign="top"><a id="a9648c85d534485a206c519b931723ffd"></a>
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#a9648c85d534485a206c519b931723ffd">showProgress</a> () const</td></tr>
<tr class="memdesc:a9648c85d534485a206c519b931723ffd inherit pub_methods_classvrs_1_1_file_handler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell if the file handler is probably slow, and extra progress information might be useful. <br /></td></tr>
<tr class="separator:a9648c85d534485a206c519b931723ffd inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classvrs_1_1_file_delegator"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classvrs_1_1_file_delegator')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classvrs_1_1_file_delegator.html">vrs::FileDelegator</a></td></tr>
<tr class="memitem:a5845c233b0fd236b50b64989743332d7 inherit pub_methods_classvrs_1_1_file_delegator"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_delegator.html#a5845c233b0fd236b50b64989743332d7">parseUri</a> (<a class="el" href="structvrs_1_1_file_spec.html">FileSpec</a> &amp;inOutFileSpec, MAYBE_UNUSED size_t colonIndex) const</td></tr>
<tr class="separator:a5845c233b0fd236b50b64989743332d7 inherit pub_methods_classvrs_1_1_file_delegator"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classvrs_1_1_file_handler"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classvrs_1_1_file_handler')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classvrs_1_1_file_handler.html">vrs::FileHandler</a></td></tr>
<tr class="memitem:a4d90cd8352b33088933df68d02572fdb inherit pub_types_classvrs_1_1_file_handler"><td class="memItemLeft" align="right" valign="top"><a id="a4d90cd8352b33088933df68d02572fdb"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>CacheStatsCallbackFunction</b> = std::function&lt; void(const <a class="el" href="structvrs_1_1_file_handler_1_1_cache_stats.html">CacheStats</a> &amp;stats)&gt;</td></tr>
<tr class="separator:a4d90cd8352b33088933df68d02572fdb inherit pub_types_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_classvrs_1_1_disk_file_t"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classvrs_1_1_disk_file_t')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classvrs_1_1_disk_file_t.html">vrs::DiskFileT&lt; FileChunk &gt;</a></td></tr>
<tr class="memitem:a80a651854abbc4357c2be27b8a731c03 inherit pub_static_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="a80a651854abbc4357c2be27b8a731c03"></a>
static const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>staticName</b> ()</td></tr>
<tr class="separator:a80a651854abbc4357c2be27b8a731c03 inherit pub_static_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a640daf0417fe194ae6da70cb71f2bb44 inherit pub_static_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#a640daf0417fe194ae6da70cb71f2bb44">writeZstdFile</a> (const string &amp;path, const void *data, size_t dataSize)</td></tr>
<tr class="separator:a640daf0417fe194ae6da70cb71f2bb44 inherit pub_static_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0696208a3a082fcfd6d9e1ff1e37003 inherit pub_static_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="ad0696208a3a082fcfd6d9e1ff1e37003"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>writeZstdFile</b> (const string &amp;path, const string &amp;string)</td></tr>
<tr class="separator:ad0696208a3a082fcfd6d9e1ff1e37003 inherit pub_static_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af02fbbcc55a499fbb8c6cd4dae61bc6f inherit pub_static_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="af02fbbcc55a499fbb8c6cd4dae61bc6f"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#af02fbbcc55a499fbb8c6cd4dae61bc6f">readZstdFile</a> (const string &amp;path, vector&lt; char &gt; &amp;outContent)</td></tr>
<tr class="memdesc:af02fbbcc55a499fbb8c6cd4dae61bc6f inherit pub_static_methods_classvrs_1_1_disk_file_t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a compressed buffer or a string (automatically adjusts the size) <br /></td></tr>
<tr class="separator:af02fbbcc55a499fbb8c6cd4dae61bc6f inherit pub_static_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5a6f65f5f97eadf3890d5945a60d6e0 inherit pub_static_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="aa5a6f65f5f97eadf3890d5945a60d6e0"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>readZstdFile</b> (const string &amp;path, string &amp;outString)</td></tr>
<tr class="separator:aa5a6f65f5f97eadf3890d5945a60d6e0 inherit pub_static_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4ee4e3d7c889187281ac44e22330cda inherit pub_static_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="ac4ee4e3d7c889187281ac44e22330cda"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#ac4ee4e3d7c889187281ac44e22330cda">readZstdFile</a> (const string &amp;path, void *data, size_t dataSize)</td></tr>
<tr class="memdesc:ac4ee4e3d7c889187281ac44e22330cda inherit pub_static_methods_classvrs_1_1_disk_file_t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a compressed buffer of an exact size, fails if the size isn't perfectly right. <br /></td></tr>
<tr class="separator:ac4ee4e3d7c889187281ac44e22330cda inherit pub_static_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a807a401c0d9244ee3e41f273de34e912 inherit pub_static_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top">static string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#a807a401c0d9244ee3e41f273de34e912">readTextFile</a> (const string &amp;path)</td></tr>
<tr class="separator:a807a401c0d9244ee3e41f273de34e912 inherit pub_static_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28f308ac5434f424cf80442edb4113fa inherit pub_static_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_disk_file_t.html#a28f308ac5434f424cf80442edb4113fa">writeTextFile</a> (const string &amp;path, const string &amp;text)</td></tr>
<tr class="separator:a28f308ac5434f424cf80442edb4113fa inherit pub_static_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classvrs_1_1_disk_file_t"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classvrs_1_1_disk_file_t')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classvrs_1_1_disk_file_t.html">vrs::DiskFileT&lt; FileChunk &gt;</a></td></tr>
<tr class="memitem:af0ebf1c445347af45e916ae1f044e1c3 inherit pro_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="af0ebf1c445347af45e916ae1f044e1c3"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>checkChunks</b> (const vector&lt; string &gt; &amp;chunks)</td></tr>
<tr class="separator:af0ebf1c445347af45e916ae1f044e1c3 inherit pro_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5d61992ba149526f11e41c3a918fa8d inherit pro_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="ae5d61992ba149526f11e41c3a918fa8d"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>openChunk</b> (FileChunk *chunk)</td></tr>
<tr class="separator:ae5d61992ba149526f11e41c3a918fa8d inherit pro_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a633de4e656b9b5b505a755993ef65cdc inherit pro_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="a633de4e656b9b5b505a755993ef65cdc"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>closeChunk</b> (FileChunk *chunk)</td></tr>
<tr class="separator:a633de4e656b9b5b505a755993ef65cdc inherit pro_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8f6e32d50849e6ba9316e1c1b3a17c2 inherit pro_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="ae8f6e32d50849e6ba9316e1c1b3a17c2"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>addChunk</b> (const string &amp;chunkFilePath)</td></tr>
<tr class="separator:ae8f6e32d50849e6ba9316e1c1b3a17c2 inherit pro_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4318b1539adfd7388f2f3f6f51ef2b1 inherit pro_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="ab4318b1539adfd7388f2f3f6f51ef2b1"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isLastChunk</b> () const</td></tr>
<tr class="separator:ab4318b1539adfd7388f2f3f6f51ef2b1 inherit pro_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2da7b892d003ba194641a06646829102 inherit pro_methods_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="a2da7b892d003ba194641a06646829102"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>trySetPosInCurrentChunk</b> (int64_t offset)</td></tr>
<tr class="separator:a2da7b892d003ba194641a06646829102 inherit pro_methods_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classvrs_1_1_disk_file_t"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classvrs_1_1_disk_file_t')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classvrs_1_1_disk_file_t.html">vrs::DiskFileT&lt; FileChunk &gt;</a></td></tr>
<tr class="memitem:a7a9eda5af802593438674edcaa82af80 inherit pro_attribs_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="a7a9eda5af802593438674edcaa82af80"></a>
map&lt; string, string &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>options_</b></td></tr>
<tr class="separator:a7a9eda5af802593438674edcaa82af80 inherit pro_attribs_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5db5e62b0ad634ac395ddf6a22421cbe inherit pro_attribs_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="a5db5e62b0ad634ac395ddf6a22421cbe"></a>
std::unique_ptr&lt; vector&lt; FileChunk &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>chunks_</b></td></tr>
<tr class="separator:a5db5e62b0ad634ac395ddf6a22421cbe inherit pro_attribs_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41ead72faa5b8f4327fb9326699821c6 inherit pro_attribs_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="a41ead72faa5b8f4327fb9326699821c6"></a>
FileChunk *&#160;</td><td class="memItemRight" valign="bottom"><b>currentChunk_</b> {}</td></tr>
<tr class="separator:a41ead72faa5b8f4327fb9326699821c6 inherit pro_attribs_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3661546a24f9c92b7b5dc0d69f5f502 inherit pro_attribs_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="ac3661546a24f9c92b7b5dc0d69f5f502"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>filesOpenCount_</b> {}</td></tr>
<tr class="separator:ac3661546a24f9c92b7b5dc0d69f5f502 inherit pro_attribs_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71b9fff54b348ad590d24cae2affe7e6 inherit pro_attribs_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="a71b9fff54b348ad590d24cae2affe7e6"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>lastRWSize_</b> {}</td></tr>
<tr class="separator:a71b9fff54b348ad590d24cae2affe7e6 inherit pro_attribs_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62a3bcc08a6a3cf5bf24019604b1ce2f inherit pro_attribs_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="a62a3bcc08a6a3cf5bf24019604b1ce2f"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>lastError_</b> {}</td></tr>
<tr class="separator:a62a3bcc08a6a3cf5bf24019604b1ce2f inherit pro_attribs_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6656ee1debeedcb97210adea4d794c9 inherit pro_attribs_classvrs_1_1_disk_file_t"><td class="memItemLeft" align="right" valign="top"><a id="ab6656ee1debeedcb97210adea4d794c9"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>readOnly_</b> {true}</td></tr>
<tr class="separator:ab6656ee1debeedcb97210adea4d794c9 inherit pro_attribs_classvrs_1_1_disk_file_t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Helper class to create a new file with better chances that the content won't be clobbered by another process creating a file with the same name at the same time. The file will be created using a unique name, then after it's closed, it will be renamed to the name requested originally, possibly deleting/replacing what is there. In practice, it's a best effort atomic file behavior, using a temporary file and late renaming, appropriate when file integrity matters more than file persistence in case of collision. The intent:</p><ul>
<li>if multiple processes try to create a file with the same name at the same time, they don't overwrite each other's data.</li>
<li>if a process tries to read the file at about the same time it is being replaced by one or more other processes, it won't find a file, or it will find an older version of the file, or it will find a new version, but it won't find a partially written version of the file. The actual behavior will depend on the actual file system, how atomic its file rename operations are, and how it handles file locking, but the behavior should be appropriate for storing data for caching purposes, when its better to fail saving a cache entry, than creating a corrupt one. </li>
</ul>
</div><hr/>The documentation for this class was generated from the following files:<ul>
<li>vrs/<a class="el" href="_disk_file_8h_source.html">DiskFile.h</a></li>
<li>vrs/DiskFile.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
