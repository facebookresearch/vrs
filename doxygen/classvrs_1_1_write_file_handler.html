<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VRS: vrs::WriteFileHandler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="VRS-Icon.png"/></td>
  <td id="projectalign">
   <div id="projectname">VRS
   </div>
   <div id="projectbrief">A file format for sensor data.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacevrs.html">vrs</a></li><li class="navelem"><a class="el" href="classvrs_1_1_write_file_handler.html">WriteFileHandler</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classvrs_1_1_write_file_handler-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">vrs::WriteFileHandler Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="classvrs_1_1_write_file_handler.html" title="The WriteFileHandler interface adds write operations to the FileHandler interface.">WriteFileHandler</a> interface adds write operations to the <a class="el" href="classvrs_1_1_file_handler.html" title="Class to abstract VRS file system operations, to enable support for alternate storage methods,...">FileHandler</a> interface.  
 <a href="classvrs_1_1_write_file_handler.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_write_file_handler_8h_source.html">WriteFileHandler.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for vrs::WriteFileHandler:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classvrs_1_1_write_file_handler.png" usemap="#vrs::WriteFileHandler_map" alt=""/>
  <map id="vrs::WriteFileHandler_map" name="vrs::WriteFileHandler_map">
<area href="classvrs_1_1_file_handler.html" title="Class to abstract VRS file system operations, to enable support for alternate storage methods,..." alt="vrs::FileHandler" shape="rect" coords="0,56,169,80"/>
<area href="classvrs_1_1_file_delegator.html" title="Class to abstract the delegate file open operation for VRS file." alt="vrs::FileDelegator" shape="rect" coords="0,0,169,24"/>
<area href="classvrs_1_1_disk_file_t.html" title="FileHandler implementation for disk files, with chunked file support." alt="vrs::DiskFileT&lt; FileChunk &gt;" shape="rect" coords="0,168,169,192"/>
<area href="classvrs_1_1_atomic_disk_file.html" alt="vrs::AtomicDiskFile" shape="rect" coords="0,224,169,248"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af5271bfd7ee63339b86b4e94ad213a08" id="r_af5271bfd7ee63339b86b4e94ad213a08"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_write_file_handler.html#af5271bfd7ee63339b86b4e94ad213a08">create</a> (const <a class="el" href="structvrs_1_1_file_spec.html">FileSpec</a> &amp;spec)</td></tr>
<tr class="separator:af5271bfd7ee63339b86b4e94ad213a08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4c77d2010301ad166bcb9a72968fb65" id="r_ad4c77d2010301ad166bcb9a72968fb65"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_write_file_handler.html#ad4c77d2010301ad166bcb9a72968fb65">create</a> (const string &amp;newFilePath, const <a class="el" href="structvrs_1_1_file_spec.html#a76464a53f34587c44a663a3ba7e956dd">FileSpec::Extras</a> &amp;options={})=0</td></tr>
<tr class="separator:ad4c77d2010301ad166bcb9a72968fb65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff0f64ed8b7ada9f6e0a2c55d3fd3a59" id="r_aff0f64ed8b7ada9f6e0a2c55d3fd3a59"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_write_file_handler.html#aff0f64ed8b7ada9f6e0a2c55d3fd3a59">createSplitFile</a> (const <a class="el" href="structvrs_1_1_file_spec.html">FileSpec</a> &amp;spec, const string &amp;initialFilePath)</td></tr>
<tr class="separator:aff0f64ed8b7ada9f6e0a2c55d3fd3a59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a250b01c29f8923717e3e5b217ad7ff12" id="r_a250b01c29f8923717e3e5b217ad7ff12"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_write_file_handler.html#a250b01c29f8923717e3e5b217ad7ff12">addSplitHead</a> (MAYBE_UNUSED <a class="el" href="structvrs_1_1_file_spec.html">FileSpec</a> &amp;inOutSpec)</td></tr>
<tr class="separator:a250b01c29f8923717e3e5b217ad7ff12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42d388f28fa2202dc18ab52964d7990c" id="r_a42d388f28fa2202dc18ab52964d7990c"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_write_file_handler.html#a42d388f28fa2202dc18ab52964d7990c">reopenForUpdatesSupported</a> () const =0</td></tr>
<tr class="separator:a42d388f28fa2202dc18ab52964d7990c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92afff70611d619395c027f01de60c6e" id="r_a92afff70611d619395c027f01de60c6e"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_write_file_handler.html#a92afff70611d619395c027f01de60c6e">reopenForUpdates</a> ()=0</td></tr>
<tr class="separator:a92afff70611d619395c027f01de60c6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92ad4b6d2cfaa9ceeb9424e49973e9b8" id="r_a92ad4b6d2cfaa9ceeb9424e49973e9b8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_write_file_handler.html#a92ad4b6d2cfaa9ceeb9424e49973e9b8">isReadOnly</a> () const override=0</td></tr>
<tr class="separator:a92ad4b6d2cfaa9ceeb9424e49973e9b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a969eee6da2824daf5e5957e78b7748a9" id="r_a969eee6da2824daf5e5957e78b7748a9"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_write_file_handler.html#a969eee6da2824daf5e5957e78b7748a9">write</a> (const void *buffer, size_t length)=0</td></tr>
<tr class="separator:a969eee6da2824daf5e5957e78b7748a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10d230d9751bc35e81f369c81d929afb" id="r_a10d230d9751bc35e81f369c81d929afb"><td class="memTemplParams" colspan="2"><a id="a10d230d9751bc35e81f369c81d929afb" name="a10d230d9751bc35e81f369c81d929afb"></a>
template&lt;typename T , std::enable_if_t&lt; std::is_trivially_copyable&lt; T &gt;::value, int &gt;  = 0&gt; </td></tr>
<tr class="memitem:a10d230d9751bc35e81f369c81d929afb"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><b>write</b> (const T &amp;object)</td></tr>
<tr class="memdesc:a10d230d9751bc35e81f369c81d929afb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper for trivially copyable objects. <br /></td></tr>
<tr class="separator:a10d230d9751bc35e81f369c81d929afb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5230f683f4e4c109c7de198d7e3e98b3" id="r_a5230f683f4e4c109c7de198d7e3e98b3"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_write_file_handler.html#a5230f683f4e4c109c7de198d7e3e98b3">overwrite</a> (const void *buffer, size_t length)=0</td></tr>
<tr class="separator:a5230f683f4e4c109c7de198d7e3e98b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56b2f1f27816b1444136364990bc5266" id="r_a56b2f1f27816b1444136364990bc5266"><td class="memTemplParams" colspan="2"><a id="a56b2f1f27816b1444136364990bc5266" name="a56b2f1f27816b1444136364990bc5266"></a>
template&lt;typename T , std::enable_if_t&lt; std::is_trivially_copyable&lt; T &gt;::value, int &gt;  = 0&gt; </td></tr>
<tr class="memitem:a56b2f1f27816b1444136364990bc5266"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><b>overwrite</b> (const T &amp;object)</td></tr>
<tr class="memdesc:a56b2f1f27816b1444136364990bc5266"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper for trivially copyable objects. <br /></td></tr>
<tr class="separator:a56b2f1f27816b1444136364990bc5266"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc15477a0e4cac5307cd4d97ba9f94c9" id="r_acc15477a0e4cac5307cd4d97ba9f94c9"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_write_file_handler.html#acc15477a0e4cac5307cd4d97ba9f94c9">addChunk</a> ()=0</td></tr>
<tr class="separator:acc15477a0e4cac5307cd4d97ba9f94c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cb33f91f322edd018ae548bfd77643f" id="r_a8cb33f91f322edd018ae548bfd77643f"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_write_file_handler.html#a8cb33f91f322edd018ae548bfd77643f">truncate</a> ()=0</td></tr>
<tr class="separator:a8cb33f91f322edd018ae548bfd77643f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afece8d46df881681dad2ed44bc73b5b3" id="r_afece8d46df881681dad2ed44bc73b5b3"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_write_file_handler.html#afece8d46df881681dad2ed44bc73b5b3">getCurrentChunk</a> (string &amp;outChunkPath, size_t &amp;outChunkIndex) const =0</td></tr>
<tr class="memdesc:afece8d46df881681dad2ed44bc73b5b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the path of the current chunk, or an empty string if no chunk is open.  <br /></td></tr>
<tr class="separator:afece8d46df881681dad2ed44bc73b5b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classvrs_1_1_file_handler"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classvrs_1_1_file_handler')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classvrs_1_1_file_handler.html">vrs::FileHandler</a></td></tr>
<tr class="memitem:a9a0fad21cc11da4451664cf36805ea32 inherit pub_methods_classvrs_1_1_file_handler" id="r_a9a0fad21cc11da4451664cf36805ea32"><td class="memItemLeft" align="right" valign="top">virtual unique_ptr&lt; <a class="el" href="classvrs_1_1_file_handler.html">FileHandler</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#a9a0fad21cc11da4451664cf36805ea32">makeNew</a> () const =0</td></tr>
<tr class="separator:a9a0fad21cc11da4451664cf36805ea32 inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a517b4a7e2cc00f6bd7b98d999e2e540a inherit pub_methods_classvrs_1_1_file_handler" id="r_a517b4a7e2cc00f6bd7b98d999e2e540a"><td class="memItemLeft" align="right" valign="top">
virtual const string &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>getFileHandlerName</b> () const =0</td></tr>
<tr class="separator:a517b4a7e2cc00f6bd7b98d999e2e540a inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c300830a63c59616c95643d67660339 inherit pub_methods_classvrs_1_1_file_handler" id="r_a7c300830a63c59616c95643d67660339"><td class="memItemLeft" align="right" valign="top">
virtual const string &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>getWriteFileHandlerName</b> () const</td></tr>
<tr class="separator:a7c300830a63c59616c95643d67660339 inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc8cce8cea6320affac819d063705d9b inherit pub_methods_classvrs_1_1_file_handler" id="r_acc8cce8cea6320affac819d063705d9b"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#acc8cce8cea6320affac819d063705d9b">open</a> (const string &amp;filePath)</td></tr>
<tr class="separator:acc8cce8cea6320affac819d063705d9b inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaafaf72028776e1868b6d69a1210902 inherit pub_methods_classvrs_1_1_file_handler" id="r_aaaafaf72028776e1868b6d69a1210902"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#aaaafaf72028776e1868b6d69a1210902">openSpec</a> (const <a class="el" href="structvrs_1_1_file_spec.html">FileSpec</a> &amp;fileSpec)=0</td></tr>
<tr class="separator:aaaafaf72028776e1868b6d69a1210902 inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29c9ecdcaec465eded60d96890b23670 inherit pub_methods_classvrs_1_1_file_handler" id="r_a29c9ecdcaec465eded60d96890b23670"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#a29c9ecdcaec465eded60d96890b23670">delegateOpen</a> (const <a class="el" href="structvrs_1_1_file_spec.html">FileSpec</a> &amp;fileSpec, unique_ptr&lt; <a class="el" href="classvrs_1_1_file_handler.html">FileHandler</a> &gt; &amp;outNewDelegate) override</td></tr>
<tr class="separator:a29c9ecdcaec465eded60d96890b23670 inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a506f20a4a8612d710fe5c57fee2e4e inherit pub_methods_classvrs_1_1_file_handler" id="r_a9a506f20a4a8612d710fe5c57fee2e4e"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#a9a506f20a4a8612d710fe5c57fee2e4e">isOpened</a> () const =0</td></tr>
<tr class="separator:a9a506f20a4a8612d710fe5c57fee2e4e inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2145daea7adfb70f991cf4d7cf1262e3 inherit pub_methods_classvrs_1_1_file_handler" id="r_a2145daea7adfb70f991cf4d7cf1262e3"><td class="memItemLeft" align="right" valign="top">virtual int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#a2145daea7adfb70f991cf4d7cf1262e3">getTotalSize</a> () const =0</td></tr>
<tr class="separator:a2145daea7adfb70f991cf4d7cf1262e3 inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae110dcfe731d9a1e1c6b2a8069271554 inherit pub_methods_classvrs_1_1_file_handler" id="r_ae110dcfe731d9a1e1c6b2a8069271554"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#ae110dcfe731d9a1e1c6b2a8069271554">close</a> ()=0</td></tr>
<tr class="separator:ae110dcfe731d9a1e1c6b2a8069271554 inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42a6383b17a7a60d61a3ad6322f90c1b inherit pub_methods_classvrs_1_1_file_handler" id="r_a42a6383b17a7a60d61a3ad6322f90c1b"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#a42a6383b17a7a60d61a3ad6322f90c1b">skipForward</a> (int64_t offset)=0</td></tr>
<tr class="separator:a42a6383b17a7a60d61a3ad6322f90c1b inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5bd0d5b3926fbabf4a925e7b3b8d3eb inherit pub_methods_classvrs_1_1_file_handler" id="r_aa5bd0d5b3926fbabf4a925e7b3b8d3eb"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#aa5bd0d5b3926fbabf4a925e7b3b8d3eb">setPos</a> (int64_t offset)=0</td></tr>
<tr class="separator:aa5bd0d5b3926fbabf4a925e7b3b8d3eb inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a084abde45300ff923db012709e3c9df6 inherit pub_methods_classvrs_1_1_file_handler" id="r_a084abde45300ff923db012709e3c9df6"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#a084abde45300ff923db012709e3c9df6">isAvailableOrPrefetch</a> (MAYBE_UNUSED size_t length)</td></tr>
<tr class="separator:a084abde45300ff923db012709e3c9df6 inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a089df90a7e403b784abe8d8c144459c7 inherit pub_methods_classvrs_1_1_file_handler" id="r_a089df90a7e403b784abe8d8c144459c7"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#a089df90a7e403b784abe8d8c144459c7">read</a> (void *buffer, size_t length)=0</td></tr>
<tr class="separator:a089df90a7e403b784abe8d8c144459c7 inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a862ed4edd6b651c810c71593e4d2f6c1 inherit pub_methods_classvrs_1_1_file_handler" id="r_a862ed4edd6b651c810c71593e4d2f6c1"><td class="memTemplParams" colspan="2">
template&lt;typename T , std::enable_if_t&lt; std::is_trivially_copyable&lt; T &gt;::value, int &gt;  = 0&gt; </td></tr>
<tr class="memitem:a862ed4edd6b651c810c71593e4d2f6c1 inherit pub_methods_classvrs_1_1_file_handler"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><b>read</b> (T &amp;object)</td></tr>
<tr class="memdesc:a862ed4edd6b651c810c71593e4d2f6c1 inherit pub_methods_classvrs_1_1_file_handler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper to read trivially copyable objects, in a chunk aware way. <br /></td></tr>
<tr class="separator:a862ed4edd6b651c810c71593e4d2f6c1 inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0120d84dcaedc263f42a78e477118b4 inherit pub_methods_classvrs_1_1_file_handler" id="r_aa0120d84dcaedc263f42a78e477118b4"><td class="memTemplParams" colspan="2">
template&lt;typename T , std::enable_if_t&lt; std::is_trivially_copyable&lt; T &gt;::value, int &gt;  = 0&gt; </td></tr>
<tr class="memitem:aa0120d84dcaedc263f42a78e477118b4 inherit pub_methods_classvrs_1_1_file_handler"><td class="memTemplItemLeft" align="right" valign="top">int&#160;</td><td class="memTemplItemRight" valign="bottom"><b>read</b> (vector&lt; T &gt; &amp;vec)</td></tr>
<tr class="memdesc:aa0120d84dcaedc263f42a78e477118b4 inherit pub_methods_classvrs_1_1_file_handler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper to read a vector of trivially copyable objects, in a chunk aware way. <br /></td></tr>
<tr class="separator:aa0120d84dcaedc263f42a78e477118b4 inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1c2ac008404ab6a71f5b41a13c187e8 inherit pub_methods_classvrs_1_1_file_handler" id="r_ac1c2ac008404ab6a71f5b41a13c187e8"><td class="memItemLeft" align="right" valign="top">virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#ac1c2ac008404ab6a71f5b41a13c187e8">getLastRWSize</a> () const =0</td></tr>
<tr class="separator:ac1c2ac008404ab6a71f5b41a13c187e8 inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49e3a654ee575c3910503dc0dc6b4dd1 inherit pub_methods_classvrs_1_1_file_handler" id="r_a49e3a654ee575c3910503dc0dc6b4dd1"><td class="memItemLeft" align="right" valign="top">virtual vector&lt; std::pair&lt; string, int64_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#a49e3a654ee575c3910503dc0dc6b4dd1">getFileChunks</a> () const =0</td></tr>
<tr class="separator:a49e3a654ee575c3910503dc0dc6b4dd1 inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9641d96edf6649b6662d335a9bac326 inherit pub_methods_classvrs_1_1_file_handler" id="r_ab9641d96edf6649b6662d335a9bac326"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#ab9641d96edf6649b6662d335a9bac326">forgetFurtherChunks</a> (int64_t maxSize)=0</td></tr>
<tr class="memdesc:ab9641d96edf6649b6662d335a9bac326 inherit pub_methods_classvrs_1_1_file_handler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call this method to forget any chunk beyond this file size.  <br /></td></tr>
<tr class="separator:ab9641d96edf6649b6662d335a9bac326 inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7eebf7e283161293853e035f7c2c5b5 inherit pub_methods_classvrs_1_1_file_handler" id="r_af7eebf7e283161293853e035f7c2c5b5"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#af7eebf7e283161293853e035f7c2c5b5">getLastError</a> () const =0</td></tr>
<tr class="separator:af7eebf7e283161293853e035f7c2c5b5 inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87363ee322c0b9f7eb2db54a4d816de2 inherit pub_methods_classvrs_1_1_file_handler" id="r_a87363ee322c0b9f7eb2db54a4d816de2"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#a87363ee322c0b9f7eb2db54a4d816de2">isEof</a> () const =0</td></tr>
<tr class="separator:a87363ee322c0b9f7eb2db54a4d816de2 inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20b17626c35777f0b905c70793c032be inherit pub_methods_classvrs_1_1_file_handler" id="r_a20b17626c35777f0b905c70793c032be"><td class="memItemLeft" align="right" valign="top">virtual int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#a20b17626c35777f0b905c70793c032be">getPos</a> () const =0</td></tr>
<tr class="separator:a20b17626c35777f0b905c70793c032be inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8165bbdead94ea6bc5abd51674b40fe inherit pub_methods_classvrs_1_1_file_handler" id="r_aa8165bbdead94ea6bc5abd51674b40fe"><td class="memItemLeft" align="right" valign="top">virtual int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#aa8165bbdead94ea6bc5abd51674b40fe">getChunkPos</a> () const =0</td></tr>
<tr class="separator:aa8165bbdead94ea6bc5abd51674b40fe inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3d0cd3d17a0046debcbc37d49e5a084 inherit pub_methods_classvrs_1_1_file_handler" id="r_ac3d0cd3d17a0046debcbc37d49e5a084"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#ac3d0cd3d17a0046debcbc37d49e5a084">getChunkRange</a> (int64_t &amp;outChunkOffset, int64_t &amp;outChunkSize) const =0</td></tr>
<tr class="separator:ac3d0cd3d17a0046debcbc37d49e5a084 inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8ad8cb958456d4ff23b7103dcc100af inherit pub_methods_classvrs_1_1_file_handler" id="r_ae8ad8cb958456d4ff23b7103dcc100af"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#ae8ad8cb958456d4ff23b7103dcc100af">setCachingStrategy</a> (<a class="el" href="namespacevrs.html#acb1b4358038394407db2b2dc6200afae">CachingStrategy</a>)</td></tr>
<tr class="separator:ae8ad8cb958456d4ff23b7103dcc100af inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9df905d36e9a89b467e542a8ae8d6fb4 inherit pub_methods_classvrs_1_1_file_handler" id="r_a9df905d36e9a89b467e542a8ae8d6fb4"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacevrs.html#acb1b4358038394407db2b2dc6200afae">CachingStrategy</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#a9df905d36e9a89b467e542a8ae8d6fb4">getCachingStrategy</a> () const</td></tr>
<tr class="separator:a9df905d36e9a89b467e542a8ae8d6fb4 inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51b82422840e7bc0faee553fc29ca173 inherit pub_methods_classvrs_1_1_file_handler" id="r_a51b82422840e7bc0faee553fc29ca173"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#a51b82422840e7bc0faee553fc29ca173">prefetchReadSequence</a> (MAYBE_UNUSED const vector&lt; std::pair&lt; size_t, size_t &gt; &gt; &amp;sequence, MAYBE_UNUSED bool clearSequence=true)</td></tr>
<tr class="separator:a51b82422840e7bc0faee553fc29ca173 inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab581e6ffbabd7d4da0e991ac60ed4032 inherit pub_methods_classvrs_1_1_file_handler" id="r_ab581e6ffbabd7d4da0e991ac60ed4032"><td class="memItemLeft" align="right" valign="top">
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>setStatsCallback</b> (const CacheStatsCallbackFunction &amp;)</td></tr>
<tr class="separator:ab581e6ffbabd7d4da0e991ac60ed4032 inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad49c80e3f6764c5f5627c61e8d00a3a3 inherit pub_methods_classvrs_1_1_file_handler" id="r_ad49c80e3f6764c5f5627c61e8d00a3a3"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#ad49c80e3f6764c5f5627c61e8d00a3a3">purgeCache</a> ()</td></tr>
<tr class="separator:ad49c80e3f6764c5f5627c61e8d00a3a3 inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d1a9e18368a77be359b1d23360c8ced inherit pub_methods_classvrs_1_1_file_handler" id="r_a8d1a9e18368a77be359b1d23360c8ced"><td class="memItemLeft" align="right" valign="top">
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isFileHandlerMatch</b> (const <a class="el" href="structvrs_1_1_file_spec.html">FileSpec</a> &amp;fileSpec) const</td></tr>
<tr class="separator:a8d1a9e18368a77be359b1d23360c8ced inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c0ab7b8d4a9ba185aa84acd23974a22 inherit pub_methods_classvrs_1_1_file_handler" id="r_a4c0ab7b8d4a9ba185aa84acd23974a22"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_handler.html#a4c0ab7b8d4a9ba185aa84acd23974a22">isRemoteFileSystem</a> () const =0</td></tr>
<tr class="separator:a4c0ab7b8d4a9ba185aa84acd23974a22 inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9648c85d534485a206c519b931723ffd inherit pub_methods_classvrs_1_1_file_handler" id="r_a9648c85d534485a206c519b931723ffd"><td class="memItemLeft" align="right" valign="top">
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><b>showProgress</b> () const</td></tr>
<tr class="memdesc:a9648c85d534485a206c519b931723ffd inherit pub_methods_classvrs_1_1_file_handler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell if the file handler is probably slow, and extra progress information might be useful. <br /></td></tr>
<tr class="separator:a9648c85d534485a206c519b931723ffd inherit pub_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classvrs_1_1_file_delegator"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classvrs_1_1_file_delegator')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classvrs_1_1_file_delegator.html">vrs::FileDelegator</a></td></tr>
<tr class="memitem:a5845c233b0fd236b50b64989743332d7 inherit pub_methods_classvrs_1_1_file_delegator" id="r_a5845c233b0fd236b50b64989743332d7"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvrs_1_1_file_delegator.html#a5845c233b0fd236b50b64989743332d7">parseUri</a> (<a class="el" href="structvrs_1_1_file_spec.html">FileSpec</a> &amp;inOutFileSpec, MAYBE_UNUSED size_t colonIndex) const</td></tr>
<tr class="separator:a5845c233b0fd236b50b64989743332d7 inherit pub_methods_classvrs_1_1_file_delegator"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad3182545fe0003b80eabd95e20edbc40" id="r_ad3182545fe0003b80eabd95e20edbc40"><td class="memItemLeft" align="right" valign="top"><a id="ad3182545fe0003b80eabd95e20edbc40" name="ad3182545fe0003b80eabd95e20edbc40"></a>
static unique_ptr&lt; <a class="el" href="classvrs_1_1_write_file_handler.html">WriteFileHandler</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>make</b> (const string &amp;fileHandlerName)</td></tr>
<tr class="memdesc:ad3182545fe0003b80eabd95e20edbc40"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new <a class="el" href="classvrs_1_1_write_file_handler.html" title="The WriteFileHandler interface adds write operations to the FileHandler interface.">WriteFileHandler</a> from a name. <br /></td></tr>
<tr class="separator:ad3182545fe0003b80eabd95e20edbc40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_classvrs_1_1_file_handler"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_classvrs_1_1_file_handler')"><img src="closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="classvrs_1_1_file_handler.html">vrs::FileHandler</a></td></tr>
<tr class="memitem:add6171cbf9bdf447b5d83554caa28953 inherit pub_static_methods_classvrs_1_1_file_handler" id="r_add6171cbf9bdf447b5d83554caa28953"><td class="memItemLeft" align="right" valign="top">
static unique_ptr&lt; <a class="el" href="classvrs_1_1_file_handler.html">FileHandler</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>makeOpen</b> (const string &amp;filePath)</td></tr>
<tr class="memdesc:add6171cbf9bdf447b5d83554caa28953 inherit pub_static_methods_classvrs_1_1_file_handler"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a file in read-only mode. Returns an open file handler, or nullptr on error. <br /></td></tr>
<tr class="separator:add6171cbf9bdf447b5d83554caa28953 inherit pub_static_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f2a458813c0dbeca11c38fc1e209dce inherit pub_static_methods_classvrs_1_1_file_handler" id="r_a3f2a458813c0dbeca11c38fc1e209dce"><td class="memItemLeft" align="right" valign="top">
static unique_ptr&lt; <a class="el" href="classvrs_1_1_file_handler.html">FileHandler</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>makeOpen</b> (const <a class="el" href="structvrs_1_1_file_spec.html">FileSpec</a> &amp;fileSpec)</td></tr>
<tr class="separator:a3f2a458813c0dbeca11c38fc1e209dce inherit pub_static_methods_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classvrs_1_1_file_handler"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classvrs_1_1_file_handler')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classvrs_1_1_file_handler.html">vrs::FileHandler</a></td></tr>
<tr class="memitem:a4d90cd8352b33088933df68d02572fdb inherit pub_types_classvrs_1_1_file_handler" id="r_a4d90cd8352b33088933df68d02572fdb"><td class="memItemLeft" align="right" valign="top">
using&#160;</td><td class="memItemRight" valign="bottom"><b>CacheStatsCallbackFunction</b> = std::function&lt; void(const <a class="el" href="structvrs_1_1_file_handler_1_1_cache_stats.html">CacheStats</a> &amp;stats)&gt;</td></tr>
<tr class="separator:a4d90cd8352b33088933df68d02572fdb inherit pub_types_classvrs_1_1_file_handler"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="classvrs_1_1_write_file_handler.html" title="The WriteFileHandler interface adds write operations to the FileHandler interface.">WriteFileHandler</a> interface adds write operations to the <a class="el" href="classvrs_1_1_file_handler.html" title="Class to abstract VRS file system operations, to enable support for alternate storage methods,...">FileHandler</a> interface. </p>
<p>There are two classes of <a class="el" href="classvrs_1_1_write_file_handler.html" title="The WriteFileHandler interface adds write operations to the FileHandler interface.">WriteFileHandler</a> implementations:</p><ul>
<li>the ones that can edit data already written, whether editing a previously created file, or while creating a new one, as typically possible with local files,</li>
<li>the immutable kind, which don't allow for overwriting parts of the file already written. They can append content, maybe concatenate chunks, but not modify previously written content. That's a typical restriction for cloud storage systems.</li>
</ul>
<p>VRS' DiskFile offers the most comprehensive implementation, because it is designed to fit all the needs of advanced VRS file creations, with chunking, but it can be used with non-VRS files.</p>
<p>On the other hand, network <a class="el" href="classvrs_1_1_write_file_handler.html" title="The WriteFileHandler interface adds write operations to the FileHandler interface.">WriteFileHandler</a> implementations often have very specific behaviors designed to accommodate the specificities of the network storage they implement. These implementation details should ideally be abstracted, but in order to optimize cloud VRS file creation, the abstraction is compromised, and cloud <a class="el" href="classvrs_1_1_write_file_handler.html" title="The WriteFileHandler interface adds write operations to the FileHandler interface.">WriteFileHandler</a> implementations are not easily reusable for other applications that VRS. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="acc15477a0e4cac5307cd4d97ba9f94c9" name="acc15477a0e4cac5307cd4d97ba9f94c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc15477a0e4cac5307cd4d97ba9f94c9">&#9670;&#160;</a></span>addChunk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int vrs::WriteFileHandler::addChunk </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Append a new chunk to the current file, when in writing to disk. The next write will happen at the beginning of the new chunk. </p><dl class="section return"><dt>Returns</dt><dd>A status code, 0 meaning success. </dd></dl>

<p>Implemented in <a class="el" href="classvrs_1_1_disk_file_t.html#abac5192bf096be66db2973f7c86fbec0">vrs::DiskFileT&lt; FileChunk &gt;</a>.</p>

</div>
</div>
<a id="a250b01c29f8923717e3e5b217ad7ff12" name="a250b01c29f8923717e3e5b217ad7ff12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a250b01c29f8923717e3e5b217ad7ff12">&#9670;&#160;</a></span>addSplitHead()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void vrs::WriteFileHandler::addSplitHead </td>
          <td>(</td>
          <td class="paramtype">MAYBE_UNUSED <a class="el" href="structvrs_1_1_file_spec.html">FileSpec</a> &amp;&#160;</td>
          <td class="paramname"><em>inOutSpec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>When creating a split-head file, we may need to add a new chunk for the head file. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inOutSpec</td><td>file spec used for the file creation, that will be passed to a DiskFile's create(inOutSpec) to create the head file, and to createSplitFile(inOutSpec, options) to create the body file. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af5271bfd7ee63339b86b4e94ad213a08" name="af5271bfd7ee63339b86b4e94ad213a08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5271bfd7ee63339b86b4e94ad213a08">&#9670;&#160;</a></span>create() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int vrs::WriteFileHandler::create </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structvrs_1_1_file_spec.html">FileSpec</a> &amp;&#160;</td>
          <td class="paramname"><em>spec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new file for writing, using a spec. The path of the file to create is expected to be in the first chunk. Optional URI parameters might be provided in the spec' extras. </p>

</div>
</div>
<a id="ad4c77d2010301ad166bcb9a72968fb65" name="ad4c77d2010301ad166bcb9a72968fb65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4c77d2010301ad166bcb9a72968fb65">&#9670;&#160;</a></span>create() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int vrs::WriteFileHandler::create </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>newFilePath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structvrs_1_1_file_spec.html#a76464a53f34587c44a663a3ba7e956dd">FileSpec::Extras</a> &amp;&#160;</td>
          <td class="paramname"><em>options</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new file for writing. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">newFilePath</td><td>a disk path to create the file. </td></tr>
    <tr><td class="paramname">options</td><td>optional parameters to pass when creating the file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A status code, 0 meaning success. </dd></dl>

<p>Implemented in <a class="el" href="classvrs_1_1_disk_file_t.html#ad48cd9e4f4416e2a95155cd46bd1ac4d">vrs::DiskFileT&lt; FileChunk &gt;</a>, and <a class="el" href="classvrs_1_1_atomic_disk_file.html#a0fd2286c3852c5a37ecbad741a87b5cd">vrs::AtomicDiskFile</a>.</p>

</div>
</div>
<a id="aff0f64ed8b7ada9f6e0a2c55d3fd3a59" name="aff0f64ed8b7ada9f6e0a2c55d3fd3a59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff0f64ed8b7ada9f6e0a2c55d3fd3a59">&#9670;&#160;</a></span>createSplitFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int vrs::WriteFileHandler::createSplitFile </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structvrs_1_1_file_spec.html">FileSpec</a> &amp;&#160;</td>
          <td class="paramname"><em>spec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>initialFilePath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Create a new file for writing, in split-head file mode, the body part. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spec</td><td>spec as converted already from initialFilePath, if that helps. </td></tr>
    <tr><td class="paramname">initialFilePath</td><td>path as given when the file creation was started. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A status code, 0 meaning success. </dd></dl>

</div>
</div>
<a id="afece8d46df881681dad2ed44bc73b5b3" name="afece8d46df881681dad2ed44bc73b5b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afece8d46df881681dad2ed44bc73b5b3">&#9670;&#160;</a></span>getCurrentChunk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool vrs::WriteFileHandler::getCurrentChunk </td>
          <td>(</td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>outChunkPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>outChunkIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the path of the current chunk, or an empty string if no chunk is open. </p>

<p>Implemented in <a class="el" href="classvrs_1_1_disk_file_t.html#aca569f60f72d94509833779c146a84c7">vrs::DiskFileT&lt; FileChunk &gt;</a>.</p>

</div>
</div>
<a id="a92ad4b6d2cfaa9ceeb9424e49973e9b8" name="a92ad4b6d2cfaa9ceeb9424e49973e9b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92ad4b6d2cfaa9ceeb9424e49973e9b8">&#9670;&#160;</a></span>isReadOnly()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool vrs::WriteFileHandler::isReadOnly </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Find out if the file is currently open in read-only mode. </p><dl class="section return"><dt>Returns</dt><dd>True if the file is currently open in read-only mode. Undefined if no file is open. </dd></dl>

<p>Reimplemented from <a class="el" href="classvrs_1_1_file_handler.html#afe53e88b396758690f2c8754bcb39556">vrs::FileHandler</a>.</p>

<p>Implemented in <a class="el" href="classvrs_1_1_disk_file_t.html#ae6af25461ccaee83e1a7387210563311">vrs::DiskFileT&lt; FileChunk &gt;</a>.</p>

</div>
</div>
<a id="a5230f683f4e4c109c7de198d7e3e98b3" name="a5230f683f4e4c109c7de198d7e3e98b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5230f683f4e4c109c7de198d7e3e98b3">&#9670;&#160;</a></span>overwrite()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int vrs::WriteFileHandler::overwrite </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Write a number of bytes to the file, in a chunk aware way, only ever extending the file's last chunk. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>a pointer to the data bytes to write. </td></tr>
    <tr><td class="paramname">length</td><td>the number of bytes to write. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A status code, 0 meaning success. </dd></dl>

<p>Implemented in <a class="el" href="classvrs_1_1_disk_file_t.html#ace8dc62447a9b273bdd17cdcb84d7078">vrs::DiskFileT&lt; FileChunk &gt;</a>.</p>

</div>
</div>
<a id="a92afff70611d619395c027f01de60c6e" name="a92afff70611d619395c027f01de60c6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92afff70611d619395c027f01de60c6e">&#9670;&#160;</a></span>reopenForUpdates()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int vrs::WriteFileHandler::reopenForUpdates </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Switch from read-only to read-write mode. Reopen the same file for modification writes. </p><dl class="section return"><dt>Returns</dt><dd>A status code, 0 meaning success. </dd></dl>

<p>Implemented in <a class="el" href="classvrs_1_1_disk_file_t.html#a95f6f67231f2ee449813db732f68e927">vrs::DiskFileT&lt; FileChunk &gt;</a>.</p>

</div>
</div>
<a id="a42d388f28fa2202dc18ab52964d7990c" name="a42d388f28fa2202dc18ab52964d7990c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42d388f28fa2202dc18ab52964d7990c">&#9670;&#160;</a></span>reopenForUpdatesSupported()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool vrs::WriteFileHandler::reopenForUpdatesSupported </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Tell if modifying files is supported by this <a class="el" href="classvrs_1_1_file_handler.html" title="Class to abstract VRS file system operations, to enable support for alternate storage methods,...">FileHandler</a> implementation. </p><dl class="section return"><dt>Returns</dt><dd>True if file modification and creation is supported. </dd></dl>

<p>Implemented in <a class="el" href="classvrs_1_1_disk_file_t.html#aa7b075e8c3b836915d1cac5f79594522">vrs::DiskFileT&lt; FileChunk &gt;</a>.</p>

</div>
</div>
<a id="a8cb33f91f322edd018ae548bfd77643f" name="a8cb33f91f322edd018ae548bfd77643f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cb33f91f322edd018ae548bfd77643f">&#9670;&#160;</a></span>truncate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int vrs::WriteFileHandler::truncate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Truncate chunk to the current file position. Use with care. </p><dl class="section return"><dt>Returns</dt><dd>A status code, 0 meaning success. </dd></dl>

<p>Implemented in <a class="el" href="classvrs_1_1_disk_file_t.html#a913a5a3dc08e6b92b767d0f935d155e5">vrs::DiskFileT&lt; FileChunk &gt;</a>.</p>

</div>
</div>
<a id="a969eee6da2824daf5e5957e78b7748a9" name="a969eee6da2824daf5e5957e78b7748a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a969eee6da2824daf5e5957e78b7748a9">&#9670;&#160;</a></span>write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int vrs::WriteFileHandler::write </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Write to the current chunk, possibly expanding it. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>a pointer to the data bytes to write. </td></tr>
    <tr><td class="paramname">length</td><td>the number of bytes to write. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A status code, 0 meaning success. In case of error, you can use <a class="el" href="classvrs_1_1_file_handler.html#ac1c2ac008404ab6a71f5b41a13c187e8">getLastRWSize()</a> to know how many bytes were really written. </dd></dl>

<p>Implemented in <a class="el" href="classvrs_1_1_disk_file_t.html#a658dd362aa98bbe33920af26f3cc39c8">vrs::DiskFileT&lt; FileChunk &gt;</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>vrs/<a class="el" href="_write_file_handler_8h_source.html">WriteFileHandler.h</a></li>
<li>vrs/<b>FileHandlerFactory.cpp</b></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
