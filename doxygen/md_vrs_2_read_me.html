<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VRS: What is in this folder?</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="VRS-Icon.png"/></td>
  <td id="projectalign">
   <div id="projectname">VRS
   </div>
   <div id="projectbrief">A file format for sensor data.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">What is in this folder?</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md1"></a> The code in this folder implements VRS' core functionality, and only the core functionality, in a flat structure. Rather than having a strict model with one class per cpp/h pair, which quickly leads to a huge number of files, VRS might define multiple related minor and small classes in the same cpp/h pair.</p>
<p>The following classification of headers is designed to help new users navigate the code and focus on the pieces they are interested in, separating the class they will want to use from the implementation layers, that users of VRS should never need to even look at. You are virtually guaranteed to directly create or interact with the top ones, but should probably never need to even look as the last ones in the list.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Reading VRS Files</h1>
<ul>
<li><code><a class="el" href="_record_file_reader_8h_source.html">RecordFileReader.h</a></code>: <code>RecordFileReader</code>, to open and read VRS files.</li>
<li><code><a class="el" href="_record_format_stream_player_8h_source.html">RecordFormatStreamPlayer.h</a></code>: <code>RecordFormatStreamPlayer</code>, to receive data from read records using <code>RecordFormat</code> and <code>DataLayout</code>.</li>
<li><code><a class="el" href="_stream_id_8h_source.html">StreamId.h</a></code>: <code>StreamId</code>, to identify the streams in a file.</li>
<li><code><a class="el" href="_multi_record_file_reader_8h_source.html">MultiRecordFileReader.h</a></code>: <code>MultiRecordFileReader</code>, to read multiple related VRS files at once. (Advanced use case, when a single recording was split into multiple files).</li>
<li><code><a class="el" href="_data_reference_8h_source.html">DataReference.h</a></code>: <code>DataReference</code> to tell when read data should be written and avoid unnecessary data copies.</li>
</ul>
<h1><a class="anchor" id="autotoc_md3"></a>
Writing VRS Files</h1>
<ul>
<li><code><a class="el" href="_record_file_writer_8h_source.html">RecordFileWriter.h</a></code>: <code>RecordFileWriter</code>, to create new VRS files.</li>
<li><code><a class="el" href="_recordable_8h_source.html">Recordable.h</a></code>: <code>Recordable</code>, to create a stream in a <code>RecordFileWriter</code>.</li>
<li><code><a class="el" href="_data_source_8h_source.html">DataSource.h</a></code>: <code>DataSource</code> and associated classes, to specify where the data of a new record is found.</li>
</ul>
<h1><a class="anchor" id="autotoc_md4"></a>
Representing Data in Records</h1>
<ul>
<li><code><a class="el" href="_record_format_8h_source.html">RecordFormat.h</a></code>: <code>RecordFormat</code>, to specify how a record is structured in <code>ContentBlock</code> parts.</li>
<li><code><a class="el" href="_data_layout_8h_source.html">DataLayout.h</a></code>: <code>DataLayout</code>, to manage datalayout content blocks.</li>
<li><code><a class="el" href="_data_pieces_8h_source.html">DataPieces.h</a></code>, <code><a class="el" href="_data_piece_array_8h_source.html">DataPieceArray.h</a></code>, <code><a class="el" href="_data_piece_string_8h_source.html">DataPieceString.h</a></code>, <code><a class="el" href="_data_piece_string_map_8h_source.html">DataPieceStringMap.h</a></code>, <code><a class="el" href="_data_piece_types_8h_source.html">DataPieceTypes.h</a></code>, <code><a class="el" href="_data_piece_value_8h_source.html">DataPieceValue.h</a></code>, <code><a class="el" href="_data_piece_vector_8h_source.html">DataPieceVector.h</a></code>: <code>DataPiece</code> types, the element parts that constitute a <code>DataLayout</code>.</li>
<li><code><a class="el" href="_data_layout_conventions_8h_source.html">DataLayoutConventions.h</a></code>: Definitions that constitute the "datalayout conventions", that make <code>RecordFormat</code> and <code>DataLayout</code> work.</li>
<li><code><a class="el" href="_tag_conventions_8h_source.html">TagConventions.h</a></code>: Definitions of file and stream tag conventions.</li>
</ul>
<h1><a class="anchor" id="autotoc_md5"></a>
File Operation Helpers</h1>
<ul>
<li><code><a class="el" href="_file_handler_8h_source.html">FileHandler.h</a></code>: <code>FileHandler</code> abstract interface, to read files wherever they actually live, depending on implementation: local machine, cloud storage, etc.</li>
<li><code><a class="el" href="_file_handler_factory_8h_source.html">FileHandlerFactory.h</a></code>: <code>FileHandlerFactory</code>, to handle <code>FileHandler</code> creation.</li>
<li><code><a class="el" href="_disk_file_8h_source.html">DiskFile.h</a></code>: <code>DiskFile</code>, to read local files, VRS or not.</li>
<li><code><a class="el" href="_write_file_handler_8h_source.html">WriteFileHandler.h</a></code>: <code>WriteFileHandler</code> abstract interface, to write files in different places.</li>
<li><code><a class="el" href="_new_chunk_handler_8h_source.html">NewChunkHandler.h</a></code>: <code>NewChunkHandler</code>, to be notified when a new VRS file chunk is created.</li>
<li><code><a class="el" href="_error_code_8h_source.html">ErrorCode.h</a></code>: Helpers to handle error codes from unrelated modules.</li>
<li><code><a class="el" href="_file_cache_8h_source.html">FileCache.h</a></code>, <code><a class="el" href="_file_details_cache_8h_source.html">FileDetailsCache.h</a></code>: Helper infra, to cache data when accessing cloud storage in particular.</li>
<li><code><a class="el" href="_telemetry_logger_8h_source.html">TelemetryLogger.h</a></code>: <code>TelemetryLogger</code>, for usage telemetry. The open source implementation doesn't implement any actual telemetry, and merely writes messages to the log output.</li>
</ul>
<h1><a class="anchor" id="autotoc_md6"></a>
Misc Helpers</h1>
<ul>
<li><code><a class="el" href="_record_8h_source.html">Record.h</a></code>: <code>Record</code>, used when creating data.</li>
<li><code><a class="el" href="_record_manager_8h_source.html">RecordManager.h</a></code>: <code>RecordManager</code>, to manage a <code>Recordable</code> object's <code>Record</code> objects during file creation.</li>
<li><code><a class="el" href="_stream_player_8h_source.html">StreamPlayer.h</a></code>: <code>StreamPlayer</code>, the base class defining core callbacks when reading records.</li>
<li><code><a class="el" href="_content_block_reader_8h_source.html">ContentBlockReader.h</a></code>: <code>ContentBlockReader</code> and associates, to read <code>ContentBlock</code> parts.</li>
<li><code><a class="el" href="_record_readers_8h_source.html">RecordReaders.h</a></code>: <code>RecordReader</code>, to read data from a record, losslessly compressed or not.</li>
<li><code><a class="el" href="_compressor_8h_source.html">Compressor.h</a></code>: <code>Compressor</code>, to losslessly compress data.</li>
<li><code><a class="el" href="_decompressor_8h_source.html">Decompressor.h</a></code>: <code>Decompressor</code>, to read losslessly compressed data.</li>
<li><code><a class="el" href="_forward_definitions_8h_source.html">ForwardDefinitions.h</a></code>: Forward definition, to help limit header includes.</li>
<li><code><a class="el" href="_legacy_formats_provider_8h_source.html">LegacyFormatsProvider.h</a></code>: <code>LegacyFormatsProvider</code> to make it possible to read files created before the introduction of <code>RecordFormat</code> and <code>DataLayout</code> using <code>RecordFormat</code> and <code>DataLayout</code>. Hopefully never needed in open source use cases!</li>
<li><code><a class="el" href="_progress_logger_8h_source.html">ProgressLogger.h</a></code>: <code>ProgressLogger</code> to track progress when opening a file. Probably only needed with handling files in cloud storage.</li>
</ul>
<h1><a class="anchor" id="autotoc_md7"></a>
File Format Core Internal</h1>
<p>These are the building blocks that define that actual VRS file format. Note that there is no VRS file format specification document, in part to discourage the temptation to re-implement the spec to support another language. Instead, please build language bindings that rely on this open source C++ implementation. How VRS files actually look like is not locked down intentionally, so that we can make the file format evolve as radically and often as we might need.</p>
<ul>
<li><code><a class="el" href="_file_format_8h_source.html">FileFormat.h</a></code>: <code>FileHeader</code> and <code>RecordHeader</code>, to hold data describing VRS files and VRS records.</li>
<li><code><a class="el" href="_index_record_8h_source.html">IndexRecord.h</a></code>: To read and write VRS index records, which contain the VRS file's index.</li>
<li><code><a class="el" href="_description_record_8h_source.html">DescriptionRecord.h</a></code>: To read and write description records, which contain the VRS file's metadata, including all the file and stream tags, including <code>RecordFormat</code> and <code>DataLayout</code> definitions.</li>
<li><code><a class="el" href="_tags_record_8h_source.html">TagsRecord.h</a></code>: To read and write tag records, needed when streams are created after the file was initially created.</li>
</ul>
<p>In effect, the VRS file format is defined by the definitions found in <code><a class="el" href="_file_format_8h_source.html">FileFormat.h</a></code>, <code><a class="el" href="_index_record_8h_source.html">IndexRecord.h</a></code>, <code><a class="el" href="_description_record_8h_source.html">DescriptionRecord.h</a></code>, <code><a class="el" href="_tags_record_8h_source.html">TagsRecord.h</a></code>, but also <code><a class="el" href="_record_format_8h_source.html">RecordFormat.h</a></code>, <code><a class="el" href="_data_layout_8h_source.html">DataLayout.h</a></code> and associated <code>DataPiece</code> objects, <code><a class="el" href="_data_layout_conventions_8h_source.html">DataLayoutConventions.h</a></code>, using json, lz4, and zstd. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
